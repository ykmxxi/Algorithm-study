# 20166번: 문자열 지옥에 빠진 호석
- [백준 그래프 탐색 알고리즘 20166번: 문자열 지옥에 빠진 호석](https://www.acmicpc.net/problem/20166)

## 풀이
- 모든 타일을 시작점으로 정해 길이 1 부터 5 까지 만들 수 있는 모든 문자열에 대한 정보를 HashMap 에 저장
  - key: 문자열, value: 경우의 수
- 탐색하는 모든 경우의 수
  - 시작 위치 * (4번의 이동, 매번 8방향 가능)
  - NM * 8^4 = 100 * 2^12, 약 4 * 10^5 으로 1초 내 해결 가능

## 문제
- 격자 모양의 타일이 존재하고, 각 타일마다 알파벳 소문자 하나씩 써져있다
  - N 행 M 열의 격자로 생겼으며, 각 칸에 알파벳이 써있고 환형으로 이어진다. 왼쪽 위 (1, 1), 오른쪽 아래 (N, M)
  - 아무 곳에서나 시작해서 상하좌우, 대각선 방향의 칸으로 한 칸씩 이동 가능하고 이미 지나 왔던 칸들을 다시 방문할 수 있다
  - 시작하는 격자의 알파벳을 시작으로 이동할 때마다 각 칸에 써진 알파벳을 이어 붙여서 문자열을 만들 수 있다
  - 문자열 K 개를 알려주면, 각 문자열 마다 만들 수 있는 경우의 수를 구하는 문제
    - 경우의 수를 셀 때, 방문 순서가 다르면 다른 경우. (1, 1) -> (1, 2) 와  (1, 2) -> (1, 1)은 서로 다른 경우
- 환형
  - 1 행에서 위로 가면 N 행, N 행에서 아래로 가면 1 행
  - 1 열에서 왼쪽으로 가면 M 열, M 열에서 오른쪽으로 가면 1 열
  - (1, 1) 에서 왼쪽 위로 가면 (N, M), (N, M) 에서 오른쪽 아래로 가면 (1, 1)
  - (1, 1) 에서 왼쪽으로 가면 (1, M), (1, M) 에서 오른쪽으로 가면 (1, 1)
  - (1, 1) 에서 위쪽으로 가면 (N, 1), (N, 1) 에서 아래쪽으로 가면 (1, 1)
  - 모든 꼭지점에서 위와 같이 될 수 있음
- 격자의 정보와, K 개의 문자열이 주어졌을 때, 각 문자열 마다 만들 수 있는 경우의 수를 구하는 문제

## 입력
- 첫째 줄: N M K
  - 3 <= N, M <= 10
  - 1 <= K <= 1,000
- 둘쨰 줄부터 N개의 줄에 걸쳐 M개의 알파벳 소문자가 공백없이 주어짐
  - 차례대로 1행 ~ N행
- K개의 줄에 걸쳐서 문자열 K가 차례대로 주어짐
  - 모두 소문자
  - 각 문자열의 길이는 1 이상 5 이하
  - 각 문자열은 중복될 수 있다

## 출력
- K개의 줄에 걸쳐서 각 문자열을 만들 수 있는 경우의 수를 출력

## 예제
- 입력
```text
// 예제 1
3 3 2
aaa
aba
aaa
aa
bb

// 예제 2
3 4 3
abcb
bcaa
abac
aba
abc
cab
```
- 출력
```text
// 예제 1
56
0

// 예제 2
66
32
38
```